# 分类查询页面使用说明

## 页面概述

本项目为图书馆管理系统的分类查询模块提供了基于Vue2和Bootstrap的前端页面，支持移动端响应式设计。

## 文件说明

### 1. category_query.html
主要的分类查询页面，提供完整的分类管理功能：

**功能特性:**
- 🔍 **多条件搜索**: 支持按分类代码、名称、层级、状态等条件查询
- 📱 **响应式设计**: 完美适配桌面端和移动端
- 🌲 **树形视图**: 支持分类的树形结构展示
- 📊 **数据统计**: 显示子分类数量和图书数量
- 📄 **分页展示**: 支持分页浏览和页码跳转
- 📋 **详情查看**: 点击查看分类详细信息
- 📤 **数据导出**: 支持CSV格式数据导出

**技术栈:**
- Vue.js 2.7.14 (通过CDN引入)
- Bootstrap 5.3.0 (响应式UI框架)
- Axios 1.5.0 (HTTP请求库)
- Font Awesome 6.4.0 (图标库)

### 2. category_test.html
API测试页面，用于测试分类相关的后端接口：

**测试功能:**
- 分类列表API测试
- 分类树结构API测试
- 简单分类列表API测试
- 健康检查API测试

## 使用方法

### 启动应用
1. 确保Spring Boot应用已启动（默认运行在8081端口）
2. 访问 `http://localhost:8081/category_query.html` 查看分类查询页面
3. 访问 `http://localhost:8081/category_test.html` 进行API测试

**重要说明：** 
- 后端服务运行在8081端口（如application.properties中配置的server.port=8081）
- 前端页面会自动检测并连接到正确的后端服务地址
- 如果遇到连接问题，请检查浏览器控制台的调试信息

### 功能操作

#### 搜索功能
- **分类代码**: 输入完整或部分分类代码进行精确匹配
- **分类名称**: 输入分类名称进行模糊搜索
- **分类层级**: 选择特定层级的分类
- **状态筛选**: 筛选启用或禁用的分类

#### 视图切换
- **列表视图**: 传统的表格形式展示，支持分页
- **树形视图**: 层级结构展示，可展开/折叠节点

#### 操作功能
- **查看详情**: 点击眼睛图标查看分类详细信息
- **查看子分类**: 点击树形图标筛选显示子分类
- **刷新数据**: 重新加载当前数据
- **导出数据**: 将当前查询结果导出为CSV文件

## 移动端优化

页面针对移动端进行了以下优化：

### 响应式布局
- 使用Bootstrap网格系统实现响应式布局
- 搜索表单在小屏幕上自动堆叠
- 按钮组在移动端垂直排列

### 触摸友好
- 增大按钮点击区域
- 优化表格在小屏幕上的显示
- 简化操作流程

### 性能优化
- 使用CDN加速资源加载
- 优化图片和图标显示
- 减少不必要的网络请求

## API接口说明

页面调用的主要API接口：

### 1. 获取分类列表
```
GET /api/categories
参数: pageNum, pageSize, categoryCode, categoryName, categoryLevel, isActive, etc.
```

### 2. 获取分类树
```
GET /api/categories/tree
参数: includeInactive
```

### 3. 获取分类详情
```
GET /api/categories/{categoryId}
```

### 4. 获取简单分类列表
```
GET /api/categories/simple
参数: isActive, parentCategoryId
```

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- 移动端浏览器支持

## 注意事项

1. **网络依赖**: 页面依赖CDN资源，需要网络连接
2. **API依赖**: 需要后端API服务正常运行
3. **数据权限**: 根据用户权限可能看到不同的数据
4. **浏览器缓存**: 如有问题可尝试清除浏览器缓存

## 故障排除

### 常见问题

1. **页面无法加载**
   - 检查Spring Boot应用是否启动
   - 确认端口号是否正确（应该是8081）
   - 检查网络连接
   - 确认访问地址是 `http://localhost:8081/category_query.html`

2. **数据不显示或API调用失败**
   - 检查浏览器控制台错误信息（按F12打开开发者工具）
   - 确认后端服务是否在8081端口正常运行
   - 检查是否有CORS跨域问题
   - 验证API接口是否正常：访问 `http://localhost:8081/api/categories/health`
   - 检查数据库连接

3. **样式异常**
   - 检查CDN资源是否加载成功
   - 尝试刷新页面
   - 检查浏览器兼容性

4. **移动端显示问题**
   - 确认viewport设置正确
   - 检查CSS媒体查询
   - 测试不同设备分辨率

## 更新日志

- v1.0.0: 初始版本，包含基础查询功能
- 支持响应式设计和移动端优化
- 集成Vue2和Bootstrap框架
- 提供完整的CRUD操作界面

## 技术支持

如有问题请联系开发团队或提交Issue。 